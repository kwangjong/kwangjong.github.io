import{S as B,i as I,s as L,y as U,a as p,k as _,P as S,z as q,c as g,l as y,m as b,Q as k,h as d,n as z,A as F,b as T,E as f,g as N,d as V,B as C,q as w,r as E,F as D,L as G,O as M}from"../chunks/index.158cc983.js";import{g as O}from"../chunks/navigation.55e4e8a1.js";import{S as Q}from"../chunks/SyntaxHighlight.96f282c6.js";import{g as $,i as x}from"../chunks/auth.3ff9f89f.js";async function J({params:o}){return{slug:o.slug}}const tt=Object.freeze(Object.defineProperty({__proto__:null,load:J},Symbol.toStringTag,{value:"Module"}));function P(o){let n,l,s,r,i,u,c,m;return{c(){n=_("div"),l=_("button"),s=w("edit"),r=p(),i=_("button"),u=w("delete"),this.h()},l(e){n=y(e,"DIV",{class:!0});var t=b(n);l=y(t,"BUTTON",{});var a=b(l);s=E(a,"edit"),a.forEach(d),r=g(t),i=y(t,"BUTTON",{});var h=b(i);u=E(h,"delete"),h.forEach(d),t.forEach(d),this.h()},h(){z(n,"class","admin-option")},m(e,t){T(e,n,t),f(n,l),f(l,s),f(n,r),f(n,i),f(i,u),c||(m=[D(l,"click",o[3]),D(i,"click",o[4])],c=!0)},p:G,d(e){e&&d(n),c=!1,M(m)}}}function K(o){let n,l,s,r,i,u,c,m;n=new Q({});let e=o[2]&&P(o);return{c(){U(n.$$.fragment),l=p(),s=_("div"),r=new S(!1),i=p(),e&&e.c(),u=p(),c=new S(!1),this.h()},l(t){q(n.$$.fragment,t),l=g(t),s=y(t,"DIV",{class:!0});var a=b(s);r=k(a,!1),i=g(a),e&&e.l(a),u=g(a),c=k(a,!1),a.forEach(d),this.h()},h(){r.a=i,c.a=null,z(s,"class","post")},m(t,a){F(n,t,a),T(t,l,a),T(t,s,a),r.m(o[0],s),f(s,i),e&&e.m(s,null),f(s,u),c.m(o[1],s),m=!0},p(t,[a]){(!m||a&1)&&r.p(t[0]),t[2]?e?e.p(t,a):(e=P(t),e.c(),e.m(s,u)):e&&(e.d(1),e=null),(!m||a&2)&&c.p(t[1])},i(t){m||(N(n.$$.fragment,t),m=!0)},o(t){V(n.$$.fragment,t),m=!1},d(t){C(n,t),t&&d(l),t&&d(s),e&&e.d()}}}function R(o,n,l){let{data:s}=n,r="",i="",u=!1;async function c(t){let a=$(),h=await fetch(`https://107106.xyz/blog/${t}`,{method:"GET",headers:{Token:a??""}}).then(j=>j.json()),v=new Date(h.Date);var A={year:"numeric",month:"long",day:"numeric"};let H=v.toLocaleDateString("en-US",A);l(0,r=`
        <h1 class="title">${h.Title}</h1>
        <time class="date" datetime="${v.toISOString()}" itemprop="datePublished">${H}</time>`),l(1,i=h.Html),l(2,u=await x())}function m(){O("/new/?edit="+s.slug)}function e(){if(confirm("Are you sure you want to delete this post?")){let a=$();fetch("https://107106.xyz/blog/"+s.slug,{method:"DELETE",headers:{Token:a??""}}).then(()=>{O("/blog")})}}return o.$$set=t=>{"data"in t&&l(5,s=t.data)},o.$$.update=()=>{o.$$.dirty&32&&(async()=>await c(s.slug))()},[r,i,u,m,e,s]}class et extends B{constructor(n){super(),I(this,n,R,K,L,{data:5})}}export{et as component,tt as universal};
