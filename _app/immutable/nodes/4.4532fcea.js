import{S as b,i as x,s as y,k as $,q as w,a as k,P as S,e as u,l as T,m as D,r as E,h as m,c as L,Q as v,b as p,E as B,L as d,M as H}from"../chunks/index.158cc983.js";import{p as U}from"../chunks/stores.a7dd64d4.js";import{g as q}from"../chunks/auth.3ff9f89f.js";function j(n){let a,i,s,l,o;return{c(){a=$("h1"),i=w("Blog"),s=k(),l=new S(!1),o=u(),this.h()},l(t){a=T(t,"H1",{});var e=D(a);i=E(e,"Blog"),e.forEach(m),s=L(t),l=v(t,!1),o=u(),this.h()},h(){l.a=o},m(t,e){p(t,a,e),B(a,i),p(t,s,e),l.m(n[0],t,e),p(t,o,e)},p(t,[e]){e&1&&l.p(t[0])},i:d,o:d,d(t){t&&m(a),t&&m(s),t&&m(o),t&&l.d()}}}function z(n,a,i){let s;H(n,U,t=>i(1,s=t));async function l(t){let h=q(),g=await fetch(`https://107106.xyz/blog/list?skip=${(t-1)*6}&numPost=6`,{method:"GET",headers:{Token:h??""}}).then(c=>c.json()),r='<ul class="blog-list">';return g.entries.forEach(c=>{let f=new Date(c.Date);var _={year:"numeric",month:"long",day:"numeric"};let P=f.toLocaleDateString("en-US",_);r+=`
            <li class="blog-entry">
                <h2 class="title"><a href="${"/blog/"+c.Url}">${c.Title}</a></h2>
                <time class="date" datetime="${f}" itemprop="datePublished">${P}</time>
            </li>
            `}),r+='</ul> <section id="post-navigator">',r+=t>1?`<a href="/blog?page=${t-1}"> &lt Newer </a>`:"",r+=g.hasNext?`<a href="/blog?page=${t+1}"> Older &gt </a>`:"",r+="</section>",r}let o="";return n.$$.update=()=>{n.$$.dirty&2&&(async()=>{const t=new URL(s.url),e=parseInt(t.searchParams.get("page")??"1");i(0,o=await l(e))})()},[o,s]}class M extends b{constructor(a){super(),x(this,a,z,j,y,{})}}export{M as component};
