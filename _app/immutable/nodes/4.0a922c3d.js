import{S as $,i as b,s as x,k as w,q as y,a as k,P as S,e as u,l as T,m as v,r as D,h as c,c as E,Q as L,b as h,E as B,L as d,o as H}from"../chunks/index.158cc983.js";import{g as U}from"../chunks/auth.3ff9f89f.js";function q(m){let a,i,l,s,o;return{c(){a=w("h1"),i=y("Blog"),l=k(),s=new S(!1),o=u(),this.h()},l(e){a=T(e,"H1",{});var t=v(a);i=D(t,"Blog"),t.forEach(c),l=E(e),s=L(e,!1),o=u(),this.h()},h(){s.a=o},m(e,t){h(e,a,t),B(a,i),h(e,l,t),s.m(m[0],e,t),h(e,o,t)},p(e,[t]){t&1&&s.p(e[0])},i:d,o:d,d(e){e&&c(a),e&&c(l),e&&c(o),e&&s.d()}}}function N(m,a,i){async function l(){const e=new URL(window.location.href),t=parseInt(e.searchParams.get("page")??"1");let p=U(),g=await fetch(`https://107106.xyz/blog/list?skip=${(t-1)*6}&numPost=6`,{method:"GET",headers:{Token:p??""}}).then(r=>r.json()),n='<ul class="blog-list">';return g.entries.forEach(r=>{let f=new Date(r.Date);var _={year:"numeric",month:"long",day:"numeric"};let P=f.toLocaleDateString("en-US",_);n+=`
            <li class="blog-entry">
                <h2 class="title"><a href="${"/blog/"+r.Url}">${r.Title}</a></h2>
                <time class="date" datetime="${f}" itemprop="datePublished">${P}</time>
            </li>
            `}),n+='</ul> <section id="post-navigator">',n+=t>1?`<a href="/blog?page=${t-1}"> &lt Newer </a>`:"",n+=g.hasNext?`<a href="/blog?page=${t+1}"> Older &gt </a>`:"",n+="</section>",n}let s="";return H(async()=>{i(0,s=await l())}),[s]}class C extends ${constructor(a){super(),b(this,a,N,q,x,{})}}export{C as component};
