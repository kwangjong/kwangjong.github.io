import{i as z,S as H,r as P,g as j}from"../chunks/SyntaxHighlight.d3cf2476.js";import{S as B,i as L,s as U,y as q,a as p,k as g,P as w,z as I,c as b,l as y,m as v,Q as T,h as _,n as O,A as M,b as $,E as h,g as N,d as V,B as C,o as F,q as S,r as k,F as E,L as Q,O as x}from"../chunks/index.158cc983.js";import{g as A}from"../chunks/navigation.da9357d9.js";async function G({fetch:c,params:t}){let l=await c(`https://107106.xyz/blog/${t.slug}`).then(u=>u.json()),e=new Date(l.Date);var i={year:"numeric",month:"long",day:"numeric"};let n=e.toLocaleDateString("en-US",i);return{header:`
        <h1 class="title">${l.Title}</h1>
        <time class="date" datetime="${e}" itemprop="datePublished">${n}</time>`,body:l.Html,isAuthed:await z(),slug:t.slug}}const Y=Object.freeze(Object.defineProperty({__proto__:null,load:G},Symbol.toStringTag,{value:"Module"}));function D(c){let t,l,e,i,n,r,u,f;return{c(){t=g("div"),l=g("button"),e=S("edit"),i=p(),n=g("button"),r=S("delete"),this.h()},l(m){t=y(m,"DIV",{class:!0});var d=v(t);l=y(d,"BUTTON",{});var s=v(l);e=k(s,"edit"),s.forEach(_),i=b(d),n=y(d,"BUTTON",{});var a=v(n);r=k(a,"delete"),a.forEach(_),d.forEach(_),this.h()},h(){O(t,"class","admin-option")},m(m,d){$(m,t,d),h(t,l),h(l,e),h(t,i),h(t,n),h(n,r),u||(f=[E(l,"click",c[1]),E(n,"click",c[2])],u=!0)},p:Q,d(m){m&&_(t),u=!1,x(f)}}}function J(c){let t,l,e,i,n=c[0].header+"",r,u,f,m=c[0].body+"",d;t=new H({});let s=c[0].isAuthed&&D(c);return{c(){q(t.$$.fragment),l=p(),e=g("div"),i=new w(!1),r=p(),s&&s.c(),u=p(),f=new w(!1),this.h()},l(a){I(t.$$.fragment,a),l=b(a),e=y(a,"DIV",{class:!0});var o=v(e);i=T(o,!1),r=b(o),s&&s.l(o),u=b(o),f=T(o,!1),o.forEach(_),this.h()},h(){i.a=r,f.a=null,O(e,"class","post")},m(a,o){M(t,a,o),$(a,l,o),$(a,e,o),i.m(n,e),h(e,r),s&&s.m(e,null),h(e,u),f.m(m,e),d=!0},p(a,[o]){(!d||o&1)&&n!==(n=a[0].header+"")&&i.p(n),a[0].isAuthed?s?s.p(a,o):(s=D(a),s.c(),s.m(e,u)):s&&(s.d(1),s=null),(!d||o&1)&&m!==(m=a[0].body+"")&&f.p(m)},i(a){d||(N(t.$$.fragment,a),d=!0)},o(a){V(t.$$.fragment,a),d=!1},d(a){C(t,a),a&&_(l),a&&_(e),s&&s.d()}}}function K(c,t,l){let{data:e}=t;F(async()=>{P()});function i(){A("/new/?edit="+e.slug)}function n(){if(confirm("Are you sure you want to delete this post?")){let u=j();fetch("https://107106.xyz/blog/"+e.slug,{method:"DELETE",headers:{Token:u??""}}).then(()=>{A("/blog")})}}return c.$$set=r=>{"data"in r&&l(0,e=r.data)},[e,i,n]}class Z extends B{constructor(t){super(),L(this,t,K,J,U,{data:0})}}export{Z as component,Y as universal};
