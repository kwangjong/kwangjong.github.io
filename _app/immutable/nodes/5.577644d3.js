import{S as B,i as I,s as L,y as U,a as p,k as _,P as S,z as q,c as g,l as b,m as y,Q as k,h as d,n as z,A as F,b as T,E as m,g as M,d as N,B as V,o as C,q as w,r as E,F as D,L as G,O as Q}from"../chunks/index.158cc983.js";import{g as O}from"../chunks/navigation.1364687b.js";import{S as x,r as J}from"../chunks/SyntaxHighlight.426c2788.js";import{g as $,i as K}from"../chunks/auth.3ff9f89f.js";async function R({params:i}){return{slug:i.slug}}const at=Object.freeze(Object.defineProperty({__proto__:null,load:R},Symbol.toStringTag,{value:"Module"}));function P(i){let n,l,s,r,o,u,c,f;return{c(){n=_("div"),l=_("button"),s=w("edit"),r=p(),o=_("button"),u=w("delete"),this.h()},l(e){n=b(e,"DIV",{class:!0});var t=y(n);l=b(t,"BUTTON",{});var a=y(l);s=E(a,"edit"),a.forEach(d),r=g(t),o=b(t,"BUTTON",{});var h=y(o);u=E(h,"delete"),h.forEach(d),t.forEach(d),this.h()},h(){z(n,"class","admin-option")},m(e,t){T(e,n,t),m(n,l),m(l,s),m(n,r),m(n,o),m(o,u),c||(f=[D(l,"click",i[3]),D(o,"click",i[4])],c=!0)},p:G,d(e){e&&d(n),c=!1,Q(f)}}}function W(i){let n,l,s,r,o,u,c,f;n=new x({});let e=i[2]&&P(i);return{c(){U(n.$$.fragment),l=p(),s=_("div"),r=new S(!1),o=p(),e&&e.c(),u=p(),c=new S(!1),this.h()},l(t){q(n.$$.fragment,t),l=g(t),s=b(t,"DIV",{class:!0});var a=y(s);r=k(a,!1),o=g(a),e&&e.l(a),u=g(a),c=k(a,!1),a.forEach(d),this.h()},h(){r.a=o,c.a=null,z(s,"class","post")},m(t,a){F(n,t,a),T(t,l,a),T(t,s,a),r.m(i[0],s),m(s,o),e&&e.m(s,null),m(s,u),c.m(i[1],s),f=!0},p(t,[a]){(!f||a&1)&&r.p(t[0]),t[2]?e?e.p(t,a):(e=P(t),e.c(),e.m(s,u)):e&&(e.d(1),e=null),(!f||a&2)&&c.p(t[1])},i(t){f||(M(n.$$.fragment,t),f=!0)},o(t){N(n.$$.fragment,t),f=!1},d(t){V(n,t),t&&d(l),t&&d(s),e&&e.d()}}}function X(i,n,l){let{data:s}=n,r="",o="",u=!1;async function c(t){let a=$(),h=await fetch(`https://107106.xyz/blog/${t}`,{method:"GET",headers:{Token:a??""}}).then(j=>j.json()),v=new Date(h.Date);var A={year:"numeric",month:"long",day:"numeric"};let H=v.toLocaleDateString("en-US",A);l(0,r=`
        <h1 class="title">${h.Title}</h1>
        <time class="date" datetime="${v.toISOString()}" itemprop="datePublished">${H}</time>`),l(1,o=h.Html),l(2,u=await K())}C(async()=>{await c(s.slug),J()});function f(){O("/new/?edit="+s.slug)}function e(){if(confirm("Are you sure you want to delete this post?")){let a=$();fetch("https://107106.xyz/blog/"+s.slug,{method:"DELETE",headers:{Token:a??""}}).then(()=>{O("/blog")})}}return i.$$set=t=>{"data"in t&&l(5,s=t.data)},[r,o,u,f,e,s]}class st extends B{constructor(n){super(),I(this,n,X,W,L,{data:5})}}export{st as component,at as universal};
