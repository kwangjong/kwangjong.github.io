import{S as P,i as x,s as y,k as $,q as k,a as w,Q as S,e as u,l as T,m as v,r as D,h as m,c as E,R as L,b as p,E as B,L as d,M as H}from"../chunks/index.32631a68.js";import{p as U}from"../chunks/stores.294715f2.js";import{g as q}from"../chunks/auth.1300090c.js";function R(n){let a,i,s,l,o;return{c(){a=$("h1"),i=k("Blog"),s=w(),l=new S(!1),o=u(),this.h()},l(t){a=T(t,"H1",{});var e=v(a);i=D(e,"Blog"),e.forEach(m),s=E(t),l=L(t,!1),o=u(),this.h()},h(){l.a=o},m(t,e){p(t,a,e),B(a,i),p(t,s,e),l.m(n[0],t,e),p(t,o,e)},p(t,[e]){e&1&&l.p(t[0])},i:d,o:d,d(t){t&&m(a),t&&m(s),t&&m(o),t&&l.d()}}}function j(n,a,i){let s;H(n,U,t=>i(1,s=t));async function l(t){let h=q(),g=await fetch(`https://107106.xyz/blog/list?skip=${(t-1)*6}&numPost=6`,{method:"GET",headers:{Token:h??""}}).then(c=>c.json()),r='<ul class="blog-list">';return g.entries.forEach(c=>{let f=new Date(c.Date);var _={year:"numeric",month:"long",day:"numeric"};let b=f.toLocaleDateString("en-US",_);r+=`
            <li class="blog-entry">
                <h2 class="title"><a href="${"/blog/"+c.Url}" sveltekit:prefetch>${c.Title}</a></h2>
                <time class="date" datetime="${f}" itemprop="datePublished">${b}</time>
            </li>
            `}),r+='</ul> <section id="post-navigator">',r+=t>1?`<a href="/blog?page=${t-1}"> &lt Newer </a>`:"",r+=g.hasNext?`<a href="/blog?page=${t+1}"> Older &gt </a>`:"",r+="</section>",r}let o="";return n.$$.update=()=>{n.$$.dirty&2&&(async()=>{const t=new URL(s.url),e=parseInt(t.searchParams.get("page")??"1");i(0,o=await l(e))})()},[o,s]}class I extends P{constructor(a){super(),x(this,a,j,R,y,{})}}export{I as component};
