import{S as j,i as z,s as A,y as I,a as b,k as _,Q as B,z as M,c as v,l as g,m as y,R as U,h as f,n as S,A as V,b as p,E as h,g as q,d as F,B as N,q as E,r as w,F as D,L as C,P as G}from"../chunks/index.32631a68.js";import{g as $}from"../chunks/navigation.90bd916f.js";import{S as Q,r as R}from"../chunks/SyntaxHighlight.3ff41aa2.js";import{g as H,i as x}from"../chunks/auth.050595b4.js";async function J({params:i}){return{slug:i.slug}}const et=Object.freeze(Object.defineProperty({__proto__:null,load:J},Symbol.toStringTag,{value:"Module"}));function L(i){let s,l,n,u,o,c,r,d;return{c(){s=_("div"),l=_("button"),n=E("edit"),u=b(),o=_("button"),c=E("delete"),this.h()},l(e){s=g(e,"DIV",{class:!0});var t=y(s);l=g(t,"BUTTON",{});var a=y(l);n=w(a,"edit"),a.forEach(f),u=v(t),o=g(t,"BUTTON",{});var m=y(o);c=w(m,"delete"),m.forEach(f),t.forEach(f),this.h()},h(){S(s,"class","admin-option")},m(e,t){p(e,s,t),h(s,l),h(l,n),h(s,u),h(s,o),h(o,c),r||(d=[D(l,"click",i[3]),D(o,"click",i[4])],r=!0)},p:C,d(e){e&&f(s),r=!1,G(d)}}}function K(i){let s,l,n,u,o,c,r,d;s=new Q({});let e=i[2]&&L(i);return{c(){I(s.$$.fragment),l=b(),n=_("div"),u=new B(!1),o=b(),e&&e.c(),c=b(),r=_("div"),this.h()},l(t){M(s.$$.fragment,t),l=v(t),n=g(t,"DIV",{class:!0});var a=y(n);u=U(a,!1),o=v(a),e&&e.l(a),a.forEach(f),c=v(t),r=g(t,"DIV",{class:!0});var m=y(r);m.forEach(f),this.h()},h(){u.a=o,S(n,"class","post-header"),S(r,"class","post")},m(t,a){V(s,t,a),p(t,l,a),p(t,n,a),u.m(i[0],n),h(n,o),e&&e.m(n,null),p(t,c,a),p(t,r,a),r.innerHTML=i[1],d=!0},p(t,[a]){(!d||a&1)&&u.p(t[0]),t[2]?e?e.p(t,a):(e=L(t),e.c(),e.m(n,null)):e&&(e.d(1),e=null),(!d||a&2)&&(r.innerHTML=t[1])},i(t){d||(q(s.$$.fragment,t),d=!0)},o(t){F(s.$$.fragment,t),d=!1},d(t){N(s,t),t&&f(l),t&&f(n),e&&e.d(),t&&f(c),t&&f(r)}}}function W(i,s,l){let{data:n}=s,u="",o="",c=!1;async function r(t){let a=H(),m=await fetch(`https://107106.xyz/blog/${t}`,{method:"GET",headers:{Token:a??""}}).then(T=>T.json()),k=new Date(m.Date);var O={year:"numeric",month:"long",day:"numeric"};let P=k.toLocaleDateString("en-US",O);l(0,u=`
        <h1 class="title">${m.Title}</h1>
        <time class="date" datetime="${k.toISOString()}" itemprop="datePublished">${P}</time>
        <div class="tags">
          ${m.Tags.map(T=>`<span class="tag">#${T}</span>`).join("")}
        </div>`),l(1,o=m.Html),l(2,c=await x())}function d(){$("/new/?edit="+n.slug)}function e(){if(confirm("Are you sure you want to delete this post?")){let a=H();fetch("https://107106.xyz/blog/"+n.slug,{method:"DELETE",headers:{Token:a??""}}).then(()=>{$("/blog")})}}return i.$$set=t=>{"data"in t&&l(5,n=t.data)},i.$$.update=()=>{i.$$.dirty&32&&(async()=>(await r(n.slug),R()))()},[u,o,c,d,e,n]}class at extends j{constructor(s){super(),z(this,s,W,K,A,{data:5})}}export{at as component,et as universal};
