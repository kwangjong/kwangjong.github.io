import{S as H,i as I,s as K,k as l,q as g,a as q,l as o,m as i,r as D,h as s,c as S,n as A,b as B,E as a,F,L as G,P as M,o as O}from"../chunks/index.32631a68.js";import{g as J}from"../chunks/navigation.aced9bd6.js";function Q(m){let r,y,p,n,_,u,t,k,w,h,v,f,x,b,d,P,$,L;return{c(){r=l("h1"),y=g("admin"),p=q(),n=l("table"),_=l("tr"),u=l("td"),t=l("p"),k=g("api_key:"),w=q(),h=l("tr"),v=l("td"),f=l("input"),x=q(),b=l("td"),d=l("button"),P=g("submit"),this.h()},l(e){r=o(e,"H1",{});var c=i(r);y=D(c,"admin"),c.forEach(s),p=S(e),n=o(e,"TABLE",{});var E=i(n);_=o(E,"TR",{});var N=i(_);u=o(N,"TD",{});var R=i(u);t=o(R,"P",{class:!0});var U=i(t);k=D(U,"api_key:"),U.forEach(s),R.forEach(s),N.forEach(s),w=S(E),h=o(E,"TR",{});var T=i(h);v=o(T,"TD",{});var j=i(v);f=o(j,"INPUT",{type:!0,name:!0}),j.forEach(s),x=S(T),b=o(T,"TD",{});var z=i(b);d=o(z,"BUTTON",{});var C=i(d);P=D(C,"submit"),C.forEach(s),z.forEach(s),T.forEach(s),E.forEach(s),this.h()},h(){A(t,"class","svelte-1xyjwo"),A(f,"type","password"),A(f,"name","api-key"),d.disabled=m[0]},m(e,c){B(e,r,c),a(r,y),B(e,p,c),B(e,n,c),a(n,_),a(_,u),a(u,t),a(t,k),a(n,w),a(n,h),a(h,v),a(v,f),a(h,x),a(h,b),a(b,d),a(d,P),$||(L=[F(f,"keyup",m[1]),F(d,"click",m[2])],$=!0)},p(e,[c]){c&1&&(d.disabled=e[0])},i:G,o:G,d(e){e&&s(r),e&&s(p),e&&s(n),$=!1,M(L)}}}function V(m,r,y){var p=!0;let n;function _(t){t.key==="Enter"&&u(),y(0,p=n.value.length==0)}async function u(){await fetch("https://107106.xyz/auth",{method:"GET",headers:{"Api-Key":n.value}}).then(t=>t.status==401?null:t.text()).then(t=>{t!=null?(window.alert("you are authenticated"),document.cookie="token="+t,J("/new")):window.alert("invalid key")})}return O(()=>{n=document.querySelector("input")}),[p,_,u]}class Y extends H{constructor(r){super(),I(this,r,V,Q,K,{})}}export{Y as component};
