import{S as G,i as H,s as I,k as l,q,a as D,l as o,m as i,r as P,h as s,c as S,n as A,b as B,E as a,F as C,L as F,O as K,o as M}from"../chunks/index.158cc983.js";import{g as J}from"../chunks/navigation.c1976a79.js";function Q(m){let r,y,p,n,_,u,t,k,w,h,v,f,x,b,d,$,g,L;return{c(){r=l("h1"),y=q("admin"),p=D(),n=l("table"),_=l("tr"),u=l("td"),t=l("p"),k=q("api_key:"),w=D(),h=l("tr"),v=l("td"),f=l("input"),x=D(),b=l("td"),d=l("button"),$=q("submit"),this.h()},l(e){r=o(e,"H1",{});var c=i(r);y=P(c,"admin"),c.forEach(s),p=S(e),n=o(e,"TABLE",{});var E=i(n);_=o(E,"TR",{});var N=i(_);u=o(N,"TD",{});var O=i(u);t=o(O,"P",{class:!0});var R=i(t);k=P(R,"api_key:"),R.forEach(s),O.forEach(s),N.forEach(s),w=S(E),h=o(E,"TR",{});var T=i(h);v=o(T,"TD",{});var U=i(v);f=o(U,"INPUT",{type:!0,name:!0}),U.forEach(s),x=S(T),b=o(T,"TD",{});var j=i(b);d=o(j,"BUTTON",{});var z=i(d);$=P(z,"submit"),z.forEach(s),j.forEach(s),T.forEach(s),E.forEach(s),this.h()},h(){A(t,"class","svelte-1xyjwo"),A(f,"type","password"),A(f,"name","api-key"),d.disabled=m[0]},m(e,c){B(e,r,c),a(r,y),B(e,p,c),B(e,n,c),a(n,_),a(_,u),a(u,t),a(t,k),a(n,w),a(n,h),a(h,v),a(v,f),a(h,x),a(h,b),a(b,d),a(d,$),g||(L=[C(f,"keyup",m[1]),C(d,"click",m[2])],g=!0)},p(e,[c]){c&1&&(d.disabled=e[0])},i:F,o:F,d(e){e&&s(r),e&&s(p),e&&s(n),g=!1,K(L)}}}function V(m,r,y){var p=!0;let n;function _(t){t.key==="Enter"&&u(),y(0,p=n.value.length==0)}async function u(){await fetch("https://107106.xyz/auth",{method:"GET",headers:{"Api-Key":n.value}}).then(t=>t.status==401?null:t.text()).then(t=>{t!=null?(window.alert("you are authenticated"),document.cookie="token="+t,J("/new")):window.alert("invalid key")})}return M(()=>{n=document.querySelector("input")}),[p,_,u]}class Y extends G{constructor(r){super(),H(this,r,V,Q,I,{})}}export{Y as component};
