import{S as P,i as y,s as x,k as $,q as S,a as k,Q as v,e as u,l as w,m as T,r as D,h as m,c as E,R as L,b as p,E as j,L as d,M as B}from"../chunks/index.32631a68.js";import{p as H}from"../chunks/stores.b24f6263.js";import{g as O}from"../chunks/auth.5886d4eb.js";const U=!0,G=Object.freeze(Object.defineProperty({__proto__:null,prerender:U},Symbol.toStringTag,{value:"Module"}));function q(n){let a,r,s,o,l;return{c(){a=$("h1"),r=S("Blog"),s=k(),o=new v(!1),l=u(),this.h()},l(e){a=w(e,"H1",{});var t=T(a);r=D(t,"Blog"),t.forEach(m),s=E(e),o=L(e,!1),l=u(),this.h()},h(){o.a=l},m(e,t){p(e,a,t),j(a,r),p(e,s,t),o.m(n[0],e,t),p(e,l,t)},p(e,[t]){t&1&&o.p(e[0])},i:d,o:d,d(e){e&&m(a),e&&m(s),e&&m(l),e&&o.d()}}}function z(n,a,r){let s;B(n,H,e=>r(1,s=e));async function o(e){let h=O(),g=await fetch(`https://107106.xyz/blog/list?skip=${(e-1)*7}&numPost=7`,{method:"GET",headers:{Token:h??""}}).then(c=>c.json()),i='<ul class="blog-list">';return g.entries.forEach(c=>{let f=new Date(c.Date);var _={year:"numeric",month:"long",day:"numeric"};let b=f.toLocaleDateString("en-US",_);i+=`
            <li class="blog-entry">
                <h2 class="title"><a href="${"/blog/"+c.Url}" sveltekit:prefetch>${c.Title}</a></h2>
                <time class="date" datetime="${f}" itemprop="datePublished">${b}</time>
            </li>
            `}),i+='</ul> <section id="post-navigator">',i+=e>1?`<a href="/blog?page=${e-1}"> &lt Newer </a>`:"",i+=g.hasNext?`<a href="/blog?page=${e+1}"> Older &gt </a>`:"",i+="</section>",i}let l="";return n.$$.update=()=>{n.$$.dirty&2&&(async()=>{const e=new URL(s.url),t=parseInt(e.searchParams.get("page")??"1");r(0,l=await o(t))})()},[l,s]}class I extends P{constructor(a){super(),y(this,a,z,q,x,{})}}export{I as component,G as universal};
